<?xml version="1.0"?>
<tool id="chakin.analysis.add_analysis" name="analysis" version="1.0">
 <description>add_analysis</description>
	<macros>
		<import>macros.xml</import>
	</macros>
	<expand macro="requirements"/>
	<command detect_errors="aggressive">
chakin analysis add_analysis
"$name"
"$program"
"$programversion"
"$algorithm"
"$sourcename"
"$sourceversion"
"$sourceuri"

#if $date_executed:
  --date_executed "$date_executed"
#end if

| jq -S . > $results
</command>
	<inputs>
    <!-- arguments -->
	<param name="name" label="Name" argument="name" type="text" help="analysis name" />
	<param name="program" label="Program" argument="program" type="text" help="analysis program" />
	<param name="programversion" label="Programversion" argument="programversion" type="text" help="analysis programversion" />
	<param name="algorithm" label="Algorithm" argument="algorithm" type="text" help="analysis algorithm" />
	<param name="sourcename" label="Sourcename" argument="sourcename" type="text" help="analysis sourcename" />
	<param name="sourceversion" label="Sourceversion" argument="sourceversion" type="text" help="analysis sourceversion" />
	<param name="sourceuri" label="Sourceuri" argument="sourceuri" type="text" help="analysis sourceuri" />

    <!-- options -->
	<param name="date_executed" label="Date Executed" argument="date_executed" type="text" help="analysis date_executed (yyyy-mm-dd)" />

	</inputs>
	<outputs>
		<data format="json" name="results"/>
	</outputs>
	<help>
Create an analysis
	</help>
</tool>
